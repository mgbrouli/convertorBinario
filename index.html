<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Conversores</title>
    
</head>
<body>

    <nav>
        <h2>Conversoress</h2>
        <button id="binToDec">Binário -> Decimal</button>
        <button id="decToBin">Decimal -> Binário</button>
    </nav>

    <main>
        <header>
            <h1 id="title">Conversor</h1>
        </header>
        <section>
            <input type="text" id="binaryInput" placeholder="Digite o número aqui">
            <button id="convert">Convertsor</button><br/>
            <p>Resultado: <span id="result"></span></p>
        </section>

        <footer>
            &copy; 2025 - Welligton Mgbrouli
        </footer>
    </main>
    
    
    
    <script>
        
        let mode = 'binToDec'

        const btnIn = document.querySelector("#convert")
        let binToDec = document.querySelector("#binToDec")
        let decToBin = document.querySelector("#decToBin")

        const title = document.querySelector("#title");
        const input = document.querySelector("#binaryInput")
        const result = document.querySelector("#result")
        
        binToDec.addEventListener("click", () =>{
            setMode("binToDec")
        })
        decToBin.addEventListener("click", () =>{
            setMode("decToBin")
        })


        function setMode(selectMode){
            mode = selectMode

            title.textContent = mode === "binToDec" ? "Binário para Decimal" : "Decimal para Binário"
            input.value = "";
            result.textContent = ""
        }


        btnIn.addEventListener("click", function(){
            const binaryStr = document.getElementById("binaryInput").value;
            if(mode === "binToDec"){
                convertToDecimal(binaryStr)
            }else{
                convertToBinary(binaryStr)
            }
            
        })


        function convertToDecimal(txt){
            
            if(/^[01]+$/.test(txt)){
                let decimal = parseInt(txt, 2);
                result.textContent = decimal;

            }else{
                result.textContent = "Entrada inválida";
            }
        }

        function convertToBinary(txt){
            
            let decimal = parseInt(txt)
            if(!isNaN(decimal)){
                let binary = decimal.toString(2);
                document.getElementById("result").textContent = binary

            }else{
                document.getElementById("result").textContent = "Entrada inválida";
            }
        }
    </script>
</body>
</html>